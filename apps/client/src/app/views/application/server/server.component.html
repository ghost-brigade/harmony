<div
  class="flex max-h-[calc(100vh-env(safe-area-inset-bottom)-64px)] min-h-[calc(100vh-env(safe-area-inset-bottom)-64px)] w-full flex-row justify-around overflow-hidden">
  <harmony-channel-list
    [currentChannel]="$activeChannel()"
    [$server]="$server"
    [isOpen]="$isChannelListOpen()" />
  <div class="flex flex-1 flex-col">
    <harmony-server-navbar
      class="relative lg:hidden"
      [channel]="$currentChannelName() || ''" />
    <div
      class="flex flex-col-reverse gap-2 overflow-y-auto p-4"
      auto-animate
      id="message-list">
      <harmony-message
        [message]="message"
        *ngFor="let message of $channelMessages()"></harmony-message>
    </div>
  </div>
  <harmony-user-list
    [server]="$server()"
    [isOpen]="$isUserListOpen()" />
</div>

<harmony-call
  class="absolute top-0 z-[150]"
  *ngIf="$isCallOpen()" />
